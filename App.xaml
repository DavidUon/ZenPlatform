<Application x:Class="ZenPlatform.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:ZenPlatform"
             xmlns:vm="clr-namespace:ZenPlatform.MVVM.Cs"
             StartupUri="MVVM/Xaml/MainWindow.xaml">
    <Application.Resources>
        <Color x:Key="ColorWindowBackground">#FF1F1F1F</Color>
        <Color x:Key="ColorSurface">#FF1F1F1F</Color>
        <Color x:Key="ColorBorder">#FF646464</Color>
        <Color x:Key="ColorText">#FFE6E6E6</Color>
        <Color x:Key="ColorMutedText">#FFB7BCC3</Color>
        <Color x:Key="ColorSplitter">#FF6B5E2E</Color>
        <Color x:Key="ColorMarketOpen">#FF50FF50</Color>
        <Color x:Key="ColorMarketClosed">#FF960000</Color>
        <Color x:Key="ColorStatusClosed">#FF009600</Color>
        <Color x:Key="ColorDdeWarning">#FFC8C800</Color>
        <Color x:Key="ColorInputBackground">#FF1F1F1F</Color>
        <Color x:Key="ColorInputBorder">#FF2D6CDF</Color>
        <Color x:Key="ColorButtonBackground">#FF252525</Color>
        <Color x:Key="ColorButtonHover">#FF303030</Color>
        <Color x:Key="ColorButtonBorder">#FF2D6CDF</Color>
        <Color x:Key="ColorSeparator">#FF646464</Color>

        <SolidColorBrush x:Key="BrushWindowBackground" Color="{StaticResource ColorWindowBackground}" />
        <SolidColorBrush x:Key="BrushSurface" Color="{StaticResource ColorSurface}" />
        <SolidColorBrush x:Key="BrushBorder" Color="{StaticResource ColorBorder}" />
        <SolidColorBrush x:Key="BrushText" Color="{StaticResource ColorText}" />
        <SolidColorBrush x:Key="BrushMutedText" Color="{StaticResource ColorMutedText}" />
        <SolidColorBrush x:Key="BrushSplitter" Color="{StaticResource ColorSplitter}" />
        <SolidColorBrush x:Key="BrushMarketOpen" Color="{StaticResource ColorMarketOpen}" />
        <SolidColorBrush x:Key="BrushMarketClosed" Color="{StaticResource ColorMarketClosed}" />
        <SolidColorBrush x:Key="BrushStatusClosed" Color="{StaticResource ColorStatusClosed}" />
        <SolidColorBrush x:Key="BrushLogSim" Color="#FF009600" />
        <SolidColorBrush x:Key="BrushDdeWarning" Color="{StaticResource ColorDdeWarning}" />
        <SolidColorBrush x:Key="BrushTabRealTrade" Color="#FFFF0000" />
        <SolidColorBrush x:Key="BrushTabBacktest" Color="#FF1E5FA8" />
        <SolidColorBrush x:Key="BrushInputBackground" Color="{StaticResource ColorInputBackground}" />
        <SolidColorBrush x:Key="BrushInputBorder" Color="{StaticResource ColorInputBorder}" />
        <SolidColorBrush x:Key="BrushButtonBackground" Color="{StaticResource ColorButtonBackground}" />
        <SolidColorBrush x:Key="BrushButtonHover" Color="{StaticResource ColorButtonHover}" />
        <SolidColorBrush x:Key="BrushButtonBorder" Color="{StaticResource ColorButtonBorder}" />
        <SolidColorBrush x:Key="BrushSeparator" Color="{StaticResource ColorSeparator}" />

        <SolidColorBrush x:Key="BrushContextMenuBackground" Color="#FF2D2D30" />
        <SolidColorBrush x:Key="BrushContextMenuBorder" Color="#FF3F3F46" />
        <SolidColorBrush x:Key="BrushContextMenuHover" Color="#FF3E3E42" />

        <Style x:Key="DarkComboBoxToggleButtonStyle" TargetType="ToggleButton">
            <Setter Property="Background" Value="{StaticResource BrushInputBackground}" />
            <Setter Property="BorderBrush" Value="{StaticResource BrushInputBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Border x:Name="Border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="24" />
                                </Grid.ColumnDefinitions>
                                <ContentPresenter Grid.Column="0"
                                                  Margin="6,2,4,2"
                                                  VerticalAlignment="Center"
                                                  HorizontalAlignment="Left"
                                                  RecognizesAccessKey="True" />
                                <Border x:Name="ArrowHost"
                                        Grid.Column="1"
                                        Background="{TemplateBinding Background}">
                                    <Path Data="M 0 0 L 4 4 L 8 0 Z"
                                          Fill="{StaticResource BrushText}"
                                          HorizontalAlignment="Center"
                                          VerticalAlignment="Center" />
                                </Border>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ArrowHost" Property="Background" Value="#FF787878" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.6" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <vm:PositionDisplayConverter x:Key="PositionDisplayConverter" />
        <vm:PositionBrushConverter x:Key="PositionBrushConverter"
                                      LongBrush="{StaticResource BrushTabRealTrade}"
                                      ShortBrush="{StaticResource BrushMarketOpen}"
                                      NeutralBrush="{StaticResource BrushText}" />
        <vm:StartTimeDisplayConverter x:Key="StartTimeDisplayConverter" />

        <Style x:Key="DarkComboBoxStyle" TargetType="ComboBox">
            <Style.Resources>
                <SolidColorBrush x:Key="{x:Static SystemColors.ControlBrushKey}" Color="{StaticResource ColorInputBackground}" />
                <SolidColorBrush x:Key="{x:Static SystemColors.ControlTextBrushKey}" Color="{StaticResource ColorText}" />
                <SolidColorBrush x:Key="{x:Static SystemColors.WindowBrushKey}" Color="{StaticResource ColorInputBackground}" />
                <SolidColorBrush x:Key="{x:Static SystemColors.WindowTextBrushKey}" Color="{StaticResource ColorText}" />
                <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="{StaticResource ColorInputBorder}" />
                <SolidColorBrush x:Key="{x:Static SystemColors.HighlightTextBrushKey}" Color="{StaticResource ColorText}" />
            </Style.Resources>
            <Setter Property="Foreground" Value="{StaticResource BrushText}" />
            <Setter Property="Background" Value="{StaticResource BrushInputBackground}" />
            <Setter Property="BorderBrush" Value="{StaticResource BrushInputBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="SnapsToDevicePixels" Value="True" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <ToggleButton x:Name="ToggleButton"
                                          Style="{StaticResource DarkComboBoxToggleButtonStyle}"
                                          IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                          Focusable="False"
                                          Background="{TemplateBinding Background}"
                                          BorderBrush="{TemplateBinding BorderBrush}"
                                          BorderThickness="{TemplateBinding BorderThickness}" />
                            <ContentPresenter x:Name="ContentSite"
                                              IsHitTestVisible="False"
                                              Margin="6,2,28,2"
                                              VerticalAlignment="Center"
                                              HorizontalAlignment="Left"
                                              Content="{TemplateBinding SelectionBoxItem}"
                                              ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                              ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}" />
                            <TextBox x:Name="PART_EditableTextBox"
                                     Visibility="Hidden"
                                     Background="{TemplateBinding Background}"
                                     Foreground="{TemplateBinding Foreground}"
                                     Margin="6,2,28,2"
                                     VerticalContentAlignment="Center"
                                     Focusable="True" />
                            <Popup x:Name="PART_Popup"
                                   Placement="Bottom"
                                   IsOpen="{TemplateBinding IsDropDownOpen}"
                                   AllowsTransparency="True"
                                   Focusable="False"
                                   PopupAnimation="Fade">
                                <Border x:Name="DropDownBorder"
                                        Background="{StaticResource BrushInputBackground}"
                                        BorderBrush="{StaticResource BrushInputBorder}"
                                        BorderThickness="1"
                                        MinWidth="{TemplateBinding ActualWidth}">
                                    <ScrollViewer Margin="0"
                                                  CanContentScroll="True"
                                                  HorizontalScrollBarVisibility="Disabled"
                                                  VerticalScrollBarVisibility="Auto">
                                        <ItemsPresenter />
                                    </ScrollViewer>
                                </Border>
                            </Popup>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEditable" Value="True">
                                <Setter TargetName="PART_EditableTextBox" Property="Visibility" Value="Visible" />
                                <Setter TargetName="ContentSite" Property="Visibility" Value="Hidden" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.6" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="DarkComboBoxItemStyle" TargetType="ComboBoxItem">
            <Setter Property="Foreground" Value="{StaticResource BrushText}" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Padding" Value="6,2" />
            <Style.Triggers>
                <Trigger Property="IsHighlighted" Value="True">
                    <Setter Property="Background" Value="{StaticResource BrushInputBorder}" />
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style TargetType="ComboBox" BasedOn="{StaticResource DarkComboBoxStyle}" />
        <Style TargetType="ComboBoxItem" BasedOn="{StaticResource DarkComboBoxItemStyle}" />

        <local:StopFlagToTitleSuffixConverter x:Key="StopFlagToTitleSuffixConverter" />
        <local:InverseBooleanConverter x:Key="InverseBooleanConverter" />

        <Style TargetType="{x:Type Window}">
            <Setter Property="Background" Value="{StaticResource BrushWindowBackground}" />
            <Setter Property="Foreground" Value="{StaticResource BrushText}" />
            <Setter Property="FontSize" Value="15" />
        </Style>
        <Style TargetType="{x:Type TextBlock}">
            <Setter Property="Foreground" Value="{StaticResource BrushText}" />
            <Setter Property="FontSize" Value="15" />
        </Style>
        <Style TargetType="{x:Type Border}">
            <Setter Property="BorderBrush" Value="{StaticResource BrushBorder}" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Background" Value="{StaticResource BrushSurface}" />
        </Style>
        <Style TargetType="{x:Type StatusBar}">
            <Setter Property="Background" Value="#FF323232" />
            <Setter Property="Foreground" Value="{StaticResource BrushMutedText}" />
            <Setter Property="BorderBrush" Value="{StaticResource BrushBorder}" />
            <Setter Property="BorderThickness" Value="1,1,1,0" />
            <Setter Property="FontSize" Value="15" />
        </Style>
        <Style TargetType="{x:Type TextBox}">
            <Setter Property="Background" Value="{StaticResource BrushInputBackground}" />
            <Setter Property="Foreground" Value="{StaticResource BrushText}" />
            <Setter Property="BorderBrush" Value="{StaticResource BrushInputBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="6,2" />
            <Setter Property="FontSize" Value="15" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
        </Style>
        <Style TargetType="{x:Type PasswordBox}">
            <Setter Property="Background" Value="{StaticResource BrushInputBackground}" />
            <Setter Property="Foreground" Value="{StaticResource BrushText}" />
            <Setter Property="BorderBrush" Value="{StaticResource BrushInputBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="6,2" />
            <Setter Property="FontSize" Value="15" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
        </Style>
        <Style TargetType="{x:Type ContextMenu}">
            <Setter Property="OverridesDefaultStyle" Value="True" />
            <Setter Property="Background" Value="{StaticResource BrushContextMenuBackground}" />
            <Setter Property="BorderBrush" Value="{StaticResource BrushContextMenuBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ContextMenu}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Cycle" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="{x:Type MenuItem}">
            <Setter Property="Foreground" Value="{StaticResource BrushText}" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Padding" Value="8,4" />
            <Setter Property="OverridesDefaultStyle" Value="True" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type MenuItem}">
                        <Border x:Name="Border"
                                Background="{TemplateBinding Background}"
                                Padding="{TemplateBinding Padding}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="18" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <TextBlock x:Name="CheckGlyph"
                                           Grid.Column="0"
                                           Text="✓"
                                           Foreground="{TemplateBinding Foreground}"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"
                                           Visibility="Collapsed" />
                                <ContentPresenter Grid.Column="1"
                                                  ContentSource="Icon"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"
                                                  Margin="0,0,6,0" />
                                <ContentPresenter Grid.Column="2"
                                                  ContentSource="Header"
                                                  VerticalAlignment="Center"
                                                  RecognizesAccessKey="True" />
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="CheckGlyph" Property="Visibility" Value="Visible" />
                            </Trigger>
                            <Trigger Property="IsCheckable" Value="False">
                                <Setter TargetName="CheckGlyph" Property="Visibility" Value="Collapsed" />
                            </Trigger>
                            <Trigger Property="IsHighlighted" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="{StaticResource BrushContextMenuHover}" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Foreground" Value="#FF8A8A8A" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsHighlighted" Value="True">
                    <Setter Property="Background" Value="{StaticResource BrushContextMenuHover}" />
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Foreground" Value="#FF8A8A8A" />
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style TargetType="{x:Type Button}">
            <Setter Property="Background" Value="{StaticResource BrushButtonBackground}" />
            <Setter Property="Foreground" Value="{StaticResource BrushText}" />
            <Setter Property="BorderBrush" Value="{StaticResource BrushButtonBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="8,2" />
            <Setter Property="MinWidth" Value="80" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="Border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              Margin="{TemplateBinding Padding}" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FF787878" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FF606060" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Border" Property="Opacity" Value="0.5" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="LogRichTextBoxStyle" TargetType="{x:Type RichTextBox}">
            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type RichTextBox}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ScrollViewer x:Name="PART_ContentHost">
                                <ScrollViewer.Resources>
                                    <Style TargetType="{x:Type Thumb}">
                                        <Setter Property="Background" Value="#FF5A5A5A" />
                                        <Setter Property="BorderBrush" Value="#FF3A3A3A" />
                                        <Setter Property="BorderThickness" Value="1" />
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type Thumb}">
                                                    <Border Background="{TemplateBinding Background}"
                                                            BorderBrush="{TemplateBinding BorderBrush}"
                                                            BorderThickness="{TemplateBinding BorderThickness}" />
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                    <Style TargetType="{x:Type ScrollBar}">
                                        <Setter Property="Background" Value="#FF1A1A1A" />
                                        <Setter Property="BorderBrush" Value="#FF2A2A2A" />
                                        <Setter Property="BorderThickness" Value="1" />
                                        <Setter Property="Foreground" Value="#FF5A5A5A" />
                                        <Setter Property="Width" Value="10" />
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type ScrollBar}">
                                                    <Border Background="{TemplateBinding Background}"
                                                            BorderBrush="{TemplateBinding BorderBrush}"
                                                            BorderThickness="{TemplateBinding BorderThickness}">
                                                        <Track x:Name="PART_Track" IsDirectionReversed="true">
                                                            <Track.DecreaseRepeatButton>
                                                                <RepeatButton Command="ScrollBar.LineUpCommand" Opacity="0" />
                                                            </Track.DecreaseRepeatButton>
                                                            <Track.Thumb>
                                                                <Thumb Background="{TemplateBinding Foreground}"
                                                                       BorderBrush="#FF3A3A3A"
                                                                       BorderThickness="1" />
                                                            </Track.Thumb>
                                                            <Track.IncreaseRepeatButton>
                                                                <RepeatButton Command="ScrollBar.LineDownCommand" Opacity="0" />
                                                            </Track.IncreaseRepeatButton>
                                                        </Track>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="Orientation" Value="Horizontal">
                                                            <Setter Property="Height" Value="10" />
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ScrollViewer.Resources>
                            </ScrollViewer>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="{x:Type GridSplitter}">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type GridSplitter}">
                        <Grid Background="{TemplateBinding Background}">
                            <Border x:Name="Line" Background="{StaticResource BrushSplitter}" />
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="ResizeDirection" Value="Columns">
                                <Setter TargetName="Line" Property="Width" Value="1" />
                                <Setter TargetName="Line" Property="HorizontalAlignment" Value="Center" />
                                <Setter TargetName="Line" Property="VerticalAlignment" Value="Stretch" />
                            </Trigger>
                            <Trigger Property="ResizeDirection" Value="Rows">
                                <Setter TargetName="Line" Property="Height" Value="1" />
                                <Setter TargetName="Line" Property="VerticalAlignment" Value="Center" />
                                <Setter TargetName="Line" Property="HorizontalAlignment" Value="Stretch" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="{x:Type TabControl}">
            <Setter Property="Background" Value="{StaticResource BrushSurface}" />
            <Setter Property="BorderBrush" Value="{StaticResource BrushBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabControl}">
                        <DockPanel>
                            <ScrollViewer DockPanel.Dock="Top"
                                          HorizontalScrollBarVisibility="Auto"
                                          VerticalScrollBarVisibility="Disabled"
                                          Focusable="False">
                                <TabPanel IsItemsHost="True"
                                          Background="{TemplateBinding Background}"
                                          Margin="0,0,0,1" />
                            </ScrollViewer>
                            <Border BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    Background="{TemplateBinding Background}">
                                <ContentPresenter ContentSource="SelectedContent"
                                                  Margin="0"
                                                  Focusable="False" />
                            </Border>
                        </DockPanel>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="{x:Type TabItem}">
            <Setter Property="Foreground" Value="{StaticResource BrushText}" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderBrush" Value="{StaticResource BrushBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="FontSize" Value="17" />
            <Setter Property="Padding" Value="8,2" />
            <Setter Property="Margin" Value="2,0" />
            <Setter Property="MinWidth" Value="80" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabItem}">
                        <Border x:Name="HeaderBorder"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter ContentSource="Header"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              Margin="{TemplateBinding Padding}" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="HeaderBorder" Property="Background" Value="#FF787878" />
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="HeaderBorder" Property="Background" Value="#FF787878" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.6" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Application.Resources>
</Application>
